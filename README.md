# 🎮 FlutterGame - 橫向動作冒險遊戲

一個基於 Flutter 和 Flame 遊戲引擎開發的橫向動作冒險遊戲。玩家控制冒險者角色，使用搖桿移動和攻擊按鈕進行戰鬥，對抗怪物敵人。專案採用現代化的管理器模式架構設計，實現清晰的職責分離。

## 📱 專案簡介

FlutterGame 是一款橫向動作冒險遊戲，玩家扮演冒險者角色，在遊戲世界中移動、戰鬥，對抗各種怪物。遊戲具有流暢的動畫效果、視差背景滾動、碰撞檢測系統和生命值機制。

## ✨ 功能特點

### 核心遊戲功能
- 🎮 **角色控制**：使用搖桿控制冒險者左右移動
- ⚔️ **攻擊系統**：點擊攻擊按鈕發射弓箭攻擊怪物
- 👾 **怪物 AI**：怪物具有移動、攻擊和死亡動畫
- ❤️ **生命值系統**：玩家和怪物都有生命值顯示
- 🎯 **碰撞檢測**：精確的碰撞檢測系統，支援調試模式
- 🏹 **弓箭系統**：弓箭有射程限制和方向控制

### 視覺與動畫
- 🎬 **流暢動畫**：角色和怪物都有豐富的動畫效果
  - 玩家：正常狀態、跑步、弓箭攻擊
  - 怪物：正常狀態、行走、死亡
- 🌄 **視差背景**：多層背景視差滾動效果，營造深度感
- 📊 **生命值顯示**：即時顯示玩家和怪物的生命值條
- 🎨 **精靈表動畫**：使用精靈表實現流暢的角色動畫

### 遊戲機制
- 📷 **攝影機跟隨**：攝影機會跟隨玩家角色移動
- 🎛️ **輸入管理**：統一的輸入管理系統，處理搖桿和按鈕
- 💾 **狀態管理**：使用管理器模式進行狀態管理
- 🐛 **調試工具**：內建碰撞範圍調試按鈕

## 🏗️ 技術架構

### 架構模式
本專案採用**管理器模式**，結合依賴注入，實現清晰的職責分離。

### 架構分層

```
┌─────────────────────────────────────┐
│      Game Layer (FlameGame)        │
│  - StartGame                        │
└─────────────────────────────────────┘
                  ↓
┌─────────────────────────────────────┐
│      Controller Layer               │
│  - GameLoopController               │
└─────────────────────────────────────┘
                  ↓
┌─────────────────────────────────────┐
│      Manager Layer (Business Logic) │
│  - GameManager                      │
│  - InputManager                     │
│  - AnimationManager                 │
│  - BackgroundManager                │
│  - AssetLoadManager                 │
└─────────────────────────────────────┘
                  ↓
┌─────────────────────────────────────┐
│      Service Layer                  │
│  - AssetService                     │
└─────────────────────────────────────┘
                  ↓
┌─────────────────────────────────────┐
│      Component Layer                │
│  - Adventurer                       │
│  - Monster                          │
│  - Arrow                            │ 
│  - LifeComponent                    │
└─────────────────────────────────────┘
                  ↓
┌─────────────────────────────────────┐
│      State Layer                    │
│  - GameState                        │
│  - PlayerState                      │
│  - MonsterState                     │
│  - CollisionState                   │
└─────────────────────────────────────┘
```

### 核心設計模式

1. **管理器模式**：每個功能模組由專門的管理器負責
2. **組件模式**：使用 Flame 的組件系統組織遊戲對象
3. **依賴注入**：通過構造函數注入依賴
4. **狀態管理模式**：使用狀態類管理遊戲狀態

## 🛠️ 技術棧

### 主要依賴
- **Flutter SDK**：>=2.17.5 <3.0.0
- **Flame**：^1.4.0 (遊戲引擎)

### 核心技術
- **Flame Game Engine**：2D 遊戲引擎
- **Flutter**：跨平台 UI 框架


## 🔧 核心功能實現

### 碰撞檢測
使用 Flame 的碰撞檢測系統，支援圓形和矩形碰撞盒。可以通過調試按鈕切換碰撞範圍的可視化顯示。

### 動畫系統
- **精靈表動畫**：使用 `SpriteAnimationGroupComponent` 管理多種動畫狀態
- **動畫切換**：根據角色狀態自動切換對應動畫
- **動畫同步**：確保動畫播放與遊戲邏輯同步

### 狀態管理
- **狀態類**：使用 `GameState`、`PlayerState`、`MonsterState` 等狀態類管理遊戲狀態
- **狀態同步**：自動同步角色狀態與動畫狀態

### 視差背景
使用 Flame 的 `ParallaxComponent` 實現多層背景視差滾動效果，不同圖層以不同速度滾動，營造深度感。

### 輸入處理
- **搖桿輸入**：處理虛擬搖桿的拖動輸入
- **按鈕輸入**：處理攻擊按鈕的點擊輸入
- **輸入狀態**：統一管理輸入狀態，避免衝突

## 📸 遊戲畫面展示

### 遊戲進行中
<!-- 在此處添加遊戲進行中的實機畫面動圖 -->
```
[遊戲進行中動圖預留位置]
```

### 攻擊動畫
<!-- 在此處添加攻擊動畫的實機畫面動圖 -->
```
[攻擊動畫動圖預留位置]
```

### 調試模式
<!-- 在此處添加調試模式的實機畫面動圖 -->
```
[調試模式動圖預留位置]
```


## 👨‍💻 開發者

- **開發者**：Evan

## 📄 許可證

本專案僅供學習和交流使用。

